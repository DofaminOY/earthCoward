<!DOCTYPE html>
<html>
<head>
  <title>Землетруси</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <style>
    #map {
      height: calc(100vh - 50px);
      width: 100%;
    }
  </style>
</head>
<body>
  <h1>Землетруси</h1>
  <div id="map"></div>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJDfbSb06K0cJ4PFNeQg0tFmnNiDa3a78"></script>
  <script>
    const earthquakes = [
  {lat: -33.7971, lng: -71.6438, time: "2021-07-22 14:58:48", mag: 6.1},
  {lat: 6.9248, lng: 124.4314, time: "2021-07-14 17:48:07", mag: 6.2},
  {lat: -7.4696, lng: 128.3936, time: "2021-07-07 02:09:50", mag: 6.1},
  {lat: 23.0135, lng: 121.9252, time: "2021-06-04 10:04:12", mag: 6},
  {lat: -31.0525, lng: -71.6878, time: "2021-06-03 21:54:09", mag: 6.3},
  {lat: 6.1571, lng: 124.8593, time: "2021-05-29 09:20:48", mag: 6.1},
  {lat: -22.1846, lng: 170.4816, time: "2021-05-19 02:27:44", mag: 6.6},
  {lat: 51.8769, lng: 178.4536, time: "2021-05-15 12:54:06", mag: 6.4},
  {lat: 3.4148, lng: 127.1584, time: "2021-05-14 12:23:10", mag: 6.6},
  {lat: 29.2786, lng: 94.4073, time: "2021-04-21 01:13:36", mag: 6},
  {lat: -6.8149, lng: 130.2171, time: "2021-02-20 12:30:45", mag: 6.3},
  {lat: -20.9912, lng: -177.5111, time: "2020-11-15 15:43:54", mag: 6.1},
  {lat: -37.4613, lng: 177.8823, time: "2019-12-26 02:24:43", mag: 6.4},
  {lat: -4.9084, lng: 153.5366, time: "2018-10-10 21:48:38", mag: 7},
  {lat: 33.8972, lng: 131.4033, time: "2011-04-07T14:32:42.020Z", mag: 7.1},
{lat: 38.297, lng: 144.951, time: "2011-04-11T08:16:12.000Z", mag: 7.1},
{lat: 38.726, lng: 142.369, time: "2011-04-11T08:08:16.000Z", mag: 7.0},
{lat: 36.69, lng: 137.86, time: "2011-05-10T07:56:19.000Z", mag: 6.6},
{lat: 38.824, lng: 143.209, time: "2011-06-23T20:57:19.000Z", mag: 6.7},
{lat: 35.645, lng: 140.057, time: "2012-03-14T10:36:19.000Z", mag: 6.2},
{lat: 37.912, lng: 144.416, time: "2012-06-18T00:19:56.820Z", mag: 6.1},
{lat: 36.146, lng: 139.731, time: "2012-10-28T03:37:54.000Z", mag: 6.2},
{lat: 13.8879, lng: 120.8601, time: "2012-08-31T12:47:33.860Z", mag: 7.6},
{lat: 13.6768, lng: 120.9085, time: "2013-08-31T11:10:00.000Z", mag: 7.1},
{lat: 13.742, lng: 120.89, time: "2013-10-15T00:12:33.000Z", mag: 7.2},
{lat: 24.102, lng: 122.693, time: "2013-06-02T05:43:14.000Z", mag: 6.5},
{lat: 6.858, lng: 124.864, time: "2013-02-06T01:15:02.000Z", mag: 6.8},
{lat: 3.4148, lng: 127.1584, time: "2021-05-14 12:23:10", mag: 6.6}
];

    function initMap() {
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 3,
        center: {lat: 0, lng: -180},
      });

      const marianaTrench = new google.maps.Marker({
        position: {lat: 11.3527, lng: 142.0720},
        map: map,
        icon: {
          path: google.maps.SymbolPath.CIRCLE,
          scale: 20,
          fillColor: "#FF0000",
          fillOpacity: 0.35,
          strokeColor: "#FF0000",
          strokeWeight: 2,
          strokeOpacity: 0.8,
        },
        title: "Маріанська впадина",
      });

      for (const earthquake of earthquakes) {
        const marker = new google.maps.Marker({
          position: {lat: earthquake.lat, lng: earthquake.lng},
          map: map,
          title: `Землетрус магнітудою ${earthquake.mag} о ${earthquake.time}`,
        });

        const contentString = `
          <div>
            <p>Координати: ${earthquake.lat}, ${earthquake.lng}</p>
            <p>Час: ${earthquake.time}</p>
            <p>Магнітуда: ${earthquake.mag}</p>
          </div>
        `;

        const infowindow = new google.maps.InfoWindow({
          content: contentString,
        });

        marker.addListener("click", () => {
          infowindow.open(map, marker);
        });
      }
    }
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDJDfbSb06K0cJ4PFNeQg0tFmnNiDa3a78&callback=initMap"></script>
</body>
</html>